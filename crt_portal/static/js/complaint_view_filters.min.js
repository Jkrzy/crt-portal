!function(r,N){function O(e){return Array.prototype.slice.call(e)}function C(e){return Array.isArray(e)?e:[e]}function a(n){return Object.keys(n).reduce(function(e,a){var t=n[a];if(!t||!t.length)return e;t=C(t).reduce(function(e,t){return e.push(a+"="+encodeURIComponent(t)),e},[]).join("&");return e.push(t),e},[])}var A={status:[],location_state:[],primary_complaint:[],contact_first_name:"",contact_last_name:"",contact_email:"",violation_summary:[],location_name:"",location_address_line_1:"",location_address_line_2:"",location_city_town:"",create_date_start:"",create_date_end:"",summary:"",assigned_to:"",public_id:"",primary_statute:"",reported_reason:[],commercial_or_public_place:[],intake_format:[],servicemember:[],hate_crime:[],referred:[],sort:"",page:"",per_page:"",no_status:"",language:[],correctional_facility_type:[]},L={};function j(e,t){for(var[a,n]of Object.entries(t))e.hasOwnProperty(a)&&(e[a]=function(e){if(Array.isArray(e))return e.map(decodeURIComponent);return decodeURIComponent(e)}(n))}function U(e){var t=e.el;t.addEventListener("submit",function(e){e.preventDefault(),U.doSearch(t)})}function x(e){for(var t=0;t<e.el.length;t++)e.el[t].addEventListener("change",function(e){x.getValues(e.target)})}function I(t){if(!t.el||!t.name)throw new Error("Component must be supplied with a valid DOM node and a `name` key corresponding to a key in the filterDataModel object");t.el.addEventListener("change",function(e){L[t.name]=e.target.value})}function o(){var t,n=N.getElementById("filters-form"),e=n.querySelector('input[name="contact_first_name"'),a=n.querySelector('input[name="contact_last_name"'),r=n.querySelector('input[name="location_city_town"]'),o=n.querySelector('input[name="location_name"]'),i=N.getElementsByName("location_state"),c=N.querySelector("[data-active-filters]"),l=N.querySelector("[data-clear-filters]"),m=N.getElementsByName("status"),u=n.querySelector('input[name="summary"]'),s=n.querySelector('input[name="create_date_start'),_=n.querySelector('input[name="create_date_end'),d=n.querySelector("#id_assigned_to"),y=n.querySelector('input[name="public_id"'),p=n.querySelector('select[name="primary_statute"]'),f=n.querySelector('input[name="violation_summary"]'),g=N.getElementsByName("primary_complaint"),v=N.getElementsByName("reported_reason"),h=N.getElementsByName("commercial_or_public_place"),E=N.getElementsByName("intake_format"),b=N.getElementsByName("hate_crime"),S=N.getElementsByName("servicemember"),k=N.querySelector('input[name="contact_email"]'),w=N.getElementsByName("referred"),q=N.getElementsByName("language"),B=N.getElementsByName("correctional_facility_type");U({el:n}),I({el:e,name:"contact_first_name"}),I({el:a,name:"contact_last_name"}),I({el:r,name:"location_city_town"}),I({el:o,name:"location_name"}),x({el:i,name:"location_state"}),i=(o={el:c,onClick:function(e){var t,a=e.getAttribute("data-filter-name");-1!==["status","location_state","violation_summary","primary_complaint","intake_format","commercial_or_public_place","reported_reason","language","correctional_facility_type"].indexOf(a)?(t=L[a],e=e.getAttribute("data-filter-value"),t.splice(t.indexOf(e),1),L[a]=t):L[a]="",U.doSearch(n)}}).el,t=o.onClick,i.addEventListener("click",function(e){e=e.target;"BUTTON"===e.tagName&&t(e)}),x({el:m,name:"status"}),I({el:u,name:"summary"}),I({el:d,name:"assigned_to"}),I({el:f,name:"violation_summary"}),I({el:s,name:"create_date_start"}),I({el:_,name:"create_date_end"}),I({el:y,name:"public_id"}),I({el:p,name:"primary_statute"}),(l={el:l,onClick:function(){const e=O(c.children);var t=e.reduce(function(e,t){t=t.getAttribute("data-filter-name");return C(L[t]).length&&(e[t]=A[t]),e},{});j(L,t),U.doSearch(n)}}).el.addEventListener("click",l.onClick),x({el:g,name:"primary_complaint"}),x({el:v,name:"reported_reason"}),x({el:h,name:"commercial_or_public_place"}),x({el:E,name:"intake_format"}),x({el:b,name:"hate_crime"}),x({el:S,name:"servicemember"}),I({el:k,name:"contact_email"}),x({el:w,name:"referred"}),x({el:q,name:"language"}),x({el:B,name:"correctional_facility_type"})}U.doSearch=function(e){var t=(t=a(L)).length?t.join("&"):"",t=t?"?"+t:"";window.location=e.action+t},x.getValues=function(e){e.checked?L[event.target.name].push(e.value):(e=L[event.target.name].indexOf(e.value),L[event.target.name].splice(e,1))},window.addEventListener("DOMContentLoaded",function(){""===r.location.search&&(r.location.search="?status=new&status=open&no_status=false");var e,a,n,t=(t=r.location.search,e=Object.keys(A),a={},t=new URLSearchParams(t),n=e instanceof Array&&e||[],t.forEach(function(e,t){0<=n.indexOf(t)&&(a[t]=a[t]||[],a[t].indexOf(e)<0&&a[t].push(encodeURIComponent(e)))}),a);Object.keys(A).forEach(function(e){L[e]=A[e]}),j(L,t),o()})}(window,document);
//# sourceMappingURL=complaint_view_filters.min.js.map
