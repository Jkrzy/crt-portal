!function(l){var a=document.getElementById("intake_template");document.getElementById("contact_complainant").addEventListener("click",function(e){e.preventDefault(),null!==a.getAttribute("hidden")?l.CRT.openModal(a):l.CRT.closeModal(a)});var e=document.getElementById("intake_template_cancel");l.CRT.cancelModal(a,e);function d(){m.innerHTML="(select a response template)",i.innerHTML="",n.setAttribute("disabled","disabled"),o.setAttribute("disabled","disabled"),c.setAttribute("disabled","disabled")}var n=document.getElementById("intake_copy"),o=document.getElementById("intake_print"),i=document.getElementById("intake_letter"),c=document.getElementById("intake_send"),r="True"===document.getElementById("intake_send").dataset.emailEnabled,u=Boolean(document.getElementById("contact_email").dataset.email),m=document.getElementById("intake_description");document.getElementById("intake_select").onchange=function(e){e.preventDefault();var t=e.target.selectedIndex,e=e.target.options[t];m.innerHTML=e.dataset.description||"(select a response template)",i.innerHTML=e.dataset.content||"",1<=t?(n.removeAttribute("disabled"),o.removeAttribute("disabled"),r&&u&&c.removeAttribute("disabled")):d()};function t(){var e,t=document.getElementById("template-language-select").value,n=document.querySelectorAll(`#intake_select > option.usa-select:not([data-language=${t}])`),t=document.querySelectorAll(`#intake_select > option.usa-select[data-language=${t}]`);for(e of n)e.setAttribute("hidden","true");for(e of t)e.removeAttribute("hidden");document.getElementById("intake_select").selectedIndex=0,d()}var e=function(){for(var e="form-letter-language=",t=document.cookie.split(";"),n=0;n<t.length;n++){for(var d=t[n];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(e))return d.substring(e.length,d.length)}return null},s=document.getElementById("template-language-select");s.onchange=function(e){e.preventDefault(),t(),e=s.value,document.cookie="form-letter-language="+e},e()&&(s.value=e()),t();n.addEventListener("click",function(e){const t=document.createElement("textarea");t.value=m.innerText+"\n\n"+i.value,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),t.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(t)});o.addEventListener("click",function(e){const t=document.getElementById("form-letterhead"),n=document.getElementById("form-letter--placeholder"),d=document.createElement("p");d.append(i.value),n.appendChild(d),t.removeAttribute("hidden"),document.body.appendChild(t),window.print(),d.remove(),document.body.removeChild(t),l.CRT.closeModal(a)})}(window);
//# sourceMappingURL=form_letter.min.js.map
