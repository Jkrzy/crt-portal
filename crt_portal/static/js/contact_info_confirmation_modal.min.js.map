{"version":3,"file":"contact_info_confirmation_modal.min.js","sources":["contact_info_confirmation_modal.js"],"sourcesContent":["(function(root) {\n  // note that modal.js must be loaded beforehand\n  var modal_el = document.getElementById('contact-info-confirmation--modal');\n\n  function clickSubmit(stepOneSubmitButton) {\n    stepOneSubmitButton[0].addEventListener('click', event => {\n      var phone_el = document.getElementsByName('0-contact_phone')[0];\n      var email_el = document.getElementsByName('0-contact_email')[0];\n      var requiredFieldSelected =\n        document.getElementsByName('0-servicemember')[0].checked ||\n        document.getElementsByName('0-servicemember')[1].checked;\n      var noContactInfo = !phone_el.value && !email_el.value;\n\n      // If there is contact information OR if the required field is not filled out, no modal is needed\n      if (!noContactInfo || !requiredFieldSelected) {\n        event.preventDefault();\n        submitNextButton.click();\n      } else {\n        event.preventDefault();\n        var cancelModalButton = document.getElementById('external-link--cancel');\n\n        // field_el is the field element that will need to be filled out.  We want to focus that field and scroll to it.\n        var field_el = {};\n        if (noContactInfo || !email_el.value) {\n          field_el = email_el;\n        } else if (!phone_el.value) {\n          field_el = phone_el;\n        }\n        root.CRT.cancelModal(modal_el, cancelModalButton, field_el);\n        root.CRT.openModal(modal_el);\n      }\n    });\n  }\n\n  if (root.CRT.stageNumber === 1) {\n    var stepOneSubmitButton = document.getElementsByClassName('report-step-1-continue');\n    if (stepOneSubmitButton.length) {\n      var submitNextButton = document.getElementById('submit-next');\n      var continue_modal_button = document.getElementById('external-link--continue');\n      continue_modal_button.onclick = function(event) {\n        event.preventDefault();\n        submitNextButton.click();\n      };\n      clickSubmit(stepOneSubmitButton);\n    }\n  }\n})(window);\n"],"names":["root","stepOneSubmitButton","submitNextButton","modal_el","document","getElementById","CRT","stageNumber","getElementsByClassName","length","onclick","event","preventDefault","click","addEventListener","cancelModalButton","phone_el","getElementsByName","email_el","requiredFieldSelected","checked","noContactInfo","value","field_el","cancelModal","openModal","window"],"mappings":"CAAA,SAAUA,GAER,IAiCMC,EAEEC,EAnCJC,EAAWC,SAASC,eAAe,oCAgCV,IAAzBL,EAAKM,IAAIC,cACPN,EAAsBG,SAASI,uBAAuB,2BAClCC,SAClBP,EAAmBE,SAASC,eAAe,eACnBD,SAASC,eAAe,2BAC9BK,QAAU,SAASC,GACvCA,EAAMC,iBACNV,EAAiBW,SAEPZ,EAtCM,GAAGa,iBAAiB,QAASH,IAC/C,IAaMI,EAbFC,EAAWZ,SAASa,kBAAkB,mBAAmB,GACzDC,EAAWd,SAASa,kBAAkB,mBAAmB,GACzDE,EACFf,SAASa,kBAAkB,mBAAmB,GAAGG,SACjDhB,SAASa,kBAAkB,mBAAmB,GAAGG,QAC/CC,GAAiBL,EAASM,QAAUJ,EAASI,MAG5CD,GAAkBF,GAIrBR,EAAMC,iBACFG,EAAoBX,SAASC,eAAe,yBAG5CkB,EAAW,GACXF,IAAkBH,EAASI,MAC7BC,EAAWL,EACDF,EAASM,QACnBC,EAAWP,GAEbhB,EAAKM,IAAIkB,YAAYrB,EAAUY,EAAmBQ,GAClDvB,EAAKM,IAAImB,UAAUtB,KAdnBQ,EAAMC,iBACNV,EAAiBW,YAhBzB,CA8CGa"}