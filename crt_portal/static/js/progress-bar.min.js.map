{"version":3,"file":"progress-bar.min.js","sources":["progress-bar.js"],"sourcesContent":["(function() {\n  // see if we're in a browser that supports smooth scrolling, aka not IE11 and some versions of Edge\n  // from https://stackoverflow.com/a/53672870\n  function supportsSmoothScroll() {\n    var supportsScroll = false;\n    try {\n      var div = document.createElement('div');\n      div.scrollTo({\n        top: 0,\n        get behavior() {\n          supportsScroll = true;\n          return 'smooth';\n        }\n      });\n    } catch (err) {\n      console.log(err);\n    }\n    return supportsScroll;\n  }\n\n  if (supportsSmoothScroll() == true) {\n    // enable smooth scroll with position:sticky header for browsers that support it\n    var offsetHeight = document\n      .getElementsByClassName('intake-header--progress-bar')[0]\n      .getBoundingClientRect().height;\n    var steps = document.getElementsByClassName('step');\n    function smoothScroll(el) {\n      el.preventDefault();\n      var scrollToSection = document.getElementById(el.target.attributes.href.nodeValue.slice(1));\n      var targetTop = scrollToSection.getBoundingClientRect().top;\n      var totalOffset = targetTop - offsetHeight - 40; // 40px == padding on card, so title doesn't abut header\n      window.scroll({\n        top: window.pageYOffset + totalOffset,\n        left: window.pageXOffset,\n        behavior: 'smooth'\n      });\n    }\n    for (i = 0; i < steps.length; i++) {\n      steps[i].addEventListener('click', function(el) {\n        smoothScroll(el);\n      });\n    }\n  } else {\n    // if browser doesn't support scrolling and position: sticky, use position: fixed instead\n    var header = document.getElementsByClassName('intake-header')[0];\n    var barOffset = header.getBoundingClientRect().height;\n    var bar = document.getElementsByClassName('intake-header--progress-bar')[0];\n    var cards = document.getElementsByClassName('crt-portal-card');\n\n    window.addEventListener('scroll', function() {\n      if (window.pageYOffset >= barOffset) {\n        bar.style.position = 'fixed';\n      } else {\n        bar.style.position = 'relative'; // un-stick it when page is scrolled all the way up\n      }\n    });\n\n    // add the class that keeps the card title from getting hidden under the fixed header\n    for (i = 0; i < cards.length; i++) {\n      cards[i].className = cards[i].className + ' crt-portal-card--space-for-header';\n    }\n  }\n})(window);\n"],"names":["supportsScroll","document","createElement","scrollTo","top","behavior","err","console","log","supportsSmoothScroll","offsetHeight","getElementsByClassName","getBoundingClientRect","height","steps","i","length","addEventListener","el","preventDefault","targetTop","getElementById","target","attributes","href","nodeValue","slice","window","scroll","pageYOffset","left","pageXOffset","barOffset","bar","cards","style","position","className"],"mappings":"CAAA,WAoBE,GAA8B,GAjB9B,WACE,IAAIA,GAAiB,EACrB,IACYC,SAASC,cAAc,OAC7BC,SAAS,CACXC,IAAK,EACLC,eAEE,OADAL,GAAiB,EACV,YAGX,MAAOM,GACPC,QAAQC,IAAIF,GAEd,OAAON,EAGLS,GAAgC,CAElC,IAAIC,EAAeT,SAChBU,uBAAuB,+BAA+B,GACtDC,wBAAwBC,OACvBC,EAAQb,SAASU,uBAAuB,QAY5C,IAAKI,EAAI,EAAGA,EAAID,EAAME,OAAQD,IAC5BD,EAAMC,GAAGE,iBAAiB,QAAS,SAASC,IAZxBA,EAaLA,GAZZC,iBAECC,EADkBnB,SAASoB,eAAeH,EAAGI,OAAOC,WAAWC,KAAKC,UAAUC,MAAM,IACxDd,wBAAwBR,IAExDuB,OAAOC,OAAO,CACZxB,IAAKuB,OAAOE,aAFIT,EAAYV,EAAe,IAG3CoB,KAAMH,OAAOI,YACb1B,SAAU,iBAQT,CAEL,IACI2B,EADS/B,SAASU,uBAAuB,iBAAiB,GACvCC,wBAAwBC,OAC3CoB,EAAMhC,SAASU,uBAAuB,+BAA+B,GACrEuB,EAAQjC,SAASU,uBAAuB,mBAW5C,IATAgB,OAAOV,iBAAiB,SAAU,WAC5BU,OAAOE,aAAeG,EACxBC,EAAIE,MAAMC,SAAW,QAErBH,EAAIE,MAAMC,SAAW,aAKpBrB,EAAI,EAAGA,EAAImB,EAAMlB,OAAQD,IAC5BmB,EAAMnB,GAAGsB,UAAYH,EAAMnB,GAAGsB,UAAY,sCA3DhD,CA8DGV"}